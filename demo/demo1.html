<!DOCTYPE html>
<head>

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Potentiometer Demo 1</title>

	<script src="../src/js/potentiometer.js" type="text/javascript"></script>

	<!-- Just some quick styling -->
	<style>
		body {
			background: #020306;
			-webkit-touch-callout: none;
			-webkit-user-select: none;
			-khtml-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
			user-select: none;
		}
		#pots {
			display: inline-block;
			margin: 200px auto 15px;
			margin-left: calc(50% - 83px);
		}
		#labels {
			color: white;
			text-align: center;
			margin-left: -15px;
		}
		#labels span { 
			margin: 0 12px; 
		}
		canvas {
			float: left;
			margin-right: 20px;
		}
	</style>

</head>

<body>
	<!-- Some development info -->
	<div id="cursorInfo" style="color: white">
		x:<br>
		y:<br>
		arc:<br>
		position:
	</div>

	<!-- Here we've lined up 3 widgets with labels for each of them -->
	<div id="pots">
		<div id="labels">
			<span>Bass</span>
			<span>&nbsp;Mid</span>
			<span>Treble</span>
		</div>
		<canvas id="pot1"></canvas>
		<canvas id="pot2"></canvas>
		<canvas id="pot3"></canvas>
	</div>
	
	<!-- This div displays the information "broadcasted" by the widgets -->
	<div id="db" style="display: block; color: white; font-style: italic; text-align: center;">0 db</div>
	

	<script type="text/javascript">

		// We declare the widget variable in the global namespace
		var pot1, pot2, pot3;
		var canvas, canvas2, canvas3;
		var label = document.getElementById('db');

		window.onload = function() {

			"use strict";

			// Here's how we load the widget the 'long way':
			canvas = document.getElementById('pot1');

			var options = { canvas: canvas, 
						    spritesheetUrl: '../img/HyBrit_pot.png' };

			pot1 = new Potentiometer(options);

			// Now here's a shorter way:
			canvas2 = document.getElementById('pot2');
			pot2 = new Potentiometer( { canvas: canvas2, 
							   		    spritesheetUrl: '../img/HyBrit_pot.png' } );

			// And the shortest way:
			pot3 = new Potentiometer({ canvas: document.getElementById('pot3'), 
							  	 	   spritesheetUrl: '../img/HyBrit_pot.png',
							  	 	   leftBound: 10,
							  	 	   rightBound: 60
									});


			// Listen for potentiometer widget change events
			document.addEventListener('potValueChanged', function(event) {

				/* This widget's value ranges from 0 to 100, it's up to you to decide
				/* what to do with that data. You can display it, use it for some calculations
				/* or who knows what :) */

				// Here I use the event value to change the label with the value info we've got from the event
				label.innerHTML = ~~(12 * event.srcValue / 100) - 6 + ' db';


			}, false);

		};

	</script>

</body>